<ion-app>
  <ion-split-pane contentId="main-content">

    <ion-menu side="end" menuId="custom" type="overlay" contentId="main-content" class="menu">
      <ion-content class="content">
        
        <div class="menu-header">
          <div class="menu-header-content">

            <div class="arrow-back" (click)="closeMenu()">
              <img src="assets/images/menu/arrow-back.png">
            </div>      

            <h6 class="menu-header-title">Меню</h6>

            <ion-menu-button class="menu-button"></ion-menu-button>

          </div>
        </div>
        
        <ul class="menu-list">
          <li 
            class="menu-item"
            *ngFor="let item of menuItems; let last = last"
          >{{ item.title }}
            <ul class="sub-menu" *ngIf="item.subMenu && showSubMenu">
              <li 
                class="sub-menu-item" 
                *ngFor="let subItem of item.subMenu"
              >
                {{ subItem.title }} ({{ subItem.count || 'нет активных'}})
              </li>
            </ul> 

            <button 
              class="toggle-subMenu"
              [ngClass]="{
                'onSubMenu': showSubMenu,
                'offSubMenu': !showSubMenu
              }"
              *ngIf="item.subMenu" 
              (click)="toggleSubMenu()"
            >
              <img src="assets/images/menu/arrow-down.png" alt="toggle-subMenu">
            </button>
          </li>
        </ul>

      </ion-content>
    </ion-menu>
    
    <ion-router-outlet id="main-content"></ion-router-outlet>

  </ion-split-pane>
</ion-app>
